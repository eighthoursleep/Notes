# Lua热更新技术



## Lua语言是什么？

巴西大学研究项目，设计目的是在**嵌入应用程序中，提供灵活的扩展和定制功能。**[Lua](https://www.lua.org/)由C语言编写而成，于1993年完成开发。

Lua无需编译，利于集成与扩展（C#、Java、C++等）。

在游戏行业最早引入Lua的大型游戏是WOW。

## Lua应用场景

游戏开发(VR/AR)、工业应用程序（Photoshop）、嵌入式设备和智能移动设备、Web应用、扩展与数据库插件、安全系统等。

## 为什么在游戏编程领域Lua语言被广泛运用？

游戏开发需求经常变，经常需要更新推送新内容。

无需编译即可运行。

Lua属于弱类型语言，即不需要声明变量类型。

## 热更新原理

因为C#属于编译型语言，在ILRuntime出来之前无法热更新。传统技术上游戏更新，需要下载整个包，体验较差。

### 如何利用Lua热更新

在客户端嵌入Lua解析器。

*.lua文件作为资源，打成AssetBundle放在服务器上。客户端通过下载AssetBundle实现热更新。因为客户端内嵌有Lua解析器，解析完Lua语言脚本后，通过Lua框架转换成C#语言。

热更新技术类别：

- 使用Lua脚本实现。
- 使用C# light
- 使用C#反射技术。（IOS不支持）
