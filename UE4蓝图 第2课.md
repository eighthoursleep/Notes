---
title: UE4蓝图 第2课
date: 2020-01-08 10:27:44
tags: UE4
---

主讲人：神经刀游戏工作室
https://www.bilibili.com/video/av33992806

接上一堂课

接下来给角色赋予其他行动功能

1. 进入【项目设置】的【引擎】【输入】，在Axis Mappings下自定义添加一个“MoveRight”
   - 添加按键【键盘A】,Scale设置为-1.0
   - 添加按键【键盘D】,Scale设置为1.0
   
2. 在Axis Mappings下自定义添加一个“Turn”
   
   - 添加【鼠标X】,Scale设置为1.0
   
3. 在Axis Mappings下自定义添加一个“LookUp”
   
   - 添加【鼠标Y】,Scale设置为-1.0
   
4. 进入“APlayerController”，在事件图表下，添加坐标轴事件“MoveRight”

5. 复制粘贴一个“Add Movement Input“

6. 添加一个Pawn操作“Get Control Rotation”、一个"Get Right Vectot"

7. 添加坐标轴事件”Turn“和”LookUp“

8. 添加”Add Yaw Input"、"Add Pitch Input"、"Add Roll Input"
   
   - Pawn控制角色的行动，PlayerController控制控制器的旋转功能
   
9. 连线如图
    ![APlayerControllerBP](APlayerControllerBP.png)

10. 进入APlayer，选中【SwingArm】，在【细节】【Camera Settings】把【Use Pawn Control Rotation】打勾，编译，保存

11. 此时点【播放】，角色可以左右平移，角色正面紧随摄像机视角改变朝向

12. 进入APlayer，选中【组件】下的【CharacterMovement】,在【细节】【Character Movement(Rotation Settings)】

    - 【Rotation Rate】【Z】改成1000。(修改角色转身速率)
    - 【Orient Rotation to Movement】打勾

13. 选中【组件】下的【APlayer(自身)】，在【细节】【Pawn】下把【Use Controller Rotation Yaw】取消打勾，编译，保存。

14. 此时点【播放】，角色正面不紧随摄像机视角改变朝向，只有在行动时转身改变朝向

15. 怎么给蓝图写注释？

    - 选中/框选要注释的操作，按【C】产生注释框，注释框可以嵌套
    - 选中注释框，在右边【细节】【Comment Color】改注释区域的颜色、透明度

16. 在APlayer里选中【组件】【Mesh】，在【细节】【Mesh】里可以点击放大镜按钮，可以定位并选中当前使用的模型

![LocateMeshButton](LocateMeshButton.png)

![LocatedMesh](LocatedMesh.png)

17. 双击”SK_Mannequin“打开模型

18. 模型五大部分：骨架、网格体、动画、蓝图、物理

    ![photo_1](photo_1.png)

19. 骨架上填满了”肉“就成了网格体，骨骼是根本，一个骨骼对应多个网格体多个动画多个物理多个蓝图（动画蓝图），一个动画仅对应唯一一个骨骼，动画跟着骨骼走。

20. 点击【浏览】按钮可以定位选中具体的文件

    ![photo_2](photo_2.png)