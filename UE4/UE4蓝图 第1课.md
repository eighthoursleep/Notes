---
title: UE4蓝图 第1课
date: 2020-01-08 10:26:44
tags: UE4
---

主讲人：神经刀游戏工作室
https://www.bilibili.com/video/av33932971

1. 创建项目（蓝图、第三人称模板）

2. 下方【内容浏览器】右键新建
   - “Player”文件夹（存放角色）
   - “Map”文件夹（存放关卡）
   - “Gameplay”文件夹（存放玩法）
   
3. Map文件夹下右键新建一个【关卡】

4. 左边【模式】下，从【光照】拖拽出：

   - 一个【定向光源】
   - 一个【天空光源】

   从【视觉效果】拖拽出一个【大气雾】

   从【基本】拖拽出一个【立方体】

5. 右边【细节】里把立方体的位置归零（点击“回车符号按钮”）

   - 键盘上按【W】切换到调整**位置**坐标系
   - 按【E】切换到调整旋转**角度**坐标系
   - 【R】切换到调整**大小**坐标系

6. 把立方体调成一个供角色落脚的平台

7. 从左边【基本】里拖拽出一个【玩家起始】

8. “GamePlay”文件夹下右键新建一个【蓝图类】，选择【Game Mode Base】

9. Player文件夹下右键新建：

   - 一个【蓝图类】的【Character】，取名“APlayer”，
   - 一个【蓝图类】的【Player Controller】，取名“APlayerController”

10. 双击进入“APlayer”，

    - 选中左边【组件】里的【Mesh】，
    - 右边【细节】中【Mesh】下Skeletal Mesh选择"SK_Mannequin",
    - 【细节】中【变换】下的【旋转Z轴】改成“-90°“，【位置Z轴】改成”-92”

    选中左边【组件】里的【CapsuleCoponent】，点击上方【添加组件】按钮，选择【SwingArm】

    在新添加的SwingArm组件下新建一个【Camera】

    把SwingArm垂直调节到与角色肩差不多同高度的位置

    编译，保存
    
11. 点击工具栏的【编辑】，进入【项目设置】，进到左边【引擎】下的【输入】

12. 在”Axis Mapping“下自定义添加一个“Moveforward”,

    - 添加一个按键，选择【键盘W】，”Scale“设置为“1.0”
    - 添加一个按键，选择【键盘S】，“Scale”设置为“-1.0”

13. 进入“APlayerController”，在【事件图表】下，右键添加一个操作【坐标轴事件】“Moveforward”

    - 【坐标轴事件】“Moveforward”这个操作是玩家的一种输入

    右键添加一个操作【Pawn】“Get Controlled Pawn”

    - Charactor是一种特殊的Pawn，所以用“Get Controlled Pawn”即可
    
      APlayerController蓝图：

![APlayerControllerBP](APlayerControllerBP.png)

14. 进入APlayerMode，选中【工具栏】面板下的【类默认值】，在【细节】里【Classes】下

    - 把Player Controller Class改成自己建的“APlayerController”
    - 把Default Pawn Class改成自己建的“APlayer”

    编译，保存

15. 回到自己建的关卡，把【细节】旁边的【世界设置】里把GameMode Override默认的“None”改成自己建的“APlayerMode”

    - 如果【细节】旁边没有【世界设置】，可以编辑器最上方第二栏的【窗口】里调出

    编译、保存

16. 此时在自建的关卡里可以点击播放后用W/S操控角色前后平移。